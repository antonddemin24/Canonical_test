{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.usePagination = usePagination;\n\nvar _react = require(\"react\");\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n/**\n * A hook that handles pagination.\n * @param data - The data array to paginate.\n * @param {Object} options\n * @param {number} [options.itemsPerPage] - Number of items per page. Returns all items if no value has been provided.\n * @param {number} [options.initialPage=1] - Initial page number. Defaults to 1.\n * @param {boolean} [options.autoResetPage=false] - Whether to reset the page number to 1 when the data changes.\n */\n\n\nfunction usePagination(data, options) {\n  var _data$length;\n\n  var defaultOptions = {\n    initialPage: 1,\n    autoResetPage: false\n  };\n\n  var _Object$assign = Object.assign(defaultOptions, options),\n      itemsPerPage = _Object$assign.itemsPerPage,\n      initialPage = _Object$assign.initialPage,\n      autoResetPage = _Object$assign.autoResetPage;\n\n  var totalItems = (_data$length = data === null || data === void 0 ? void 0 : data.length) !== null && _data$length !== void 0 ? _data$length : 0;\n  var initialPageIndex = initialPage > 0 ? initialPage - 1 : 0;\n\n  var _useState = (0, _react.useState)(initialPageIndex),\n      _useState2 = _slicedToArray(_useState, 2),\n      pageIndex = _useState2[0],\n      setPageIndex = _useState2[1];\n\n  var startIndex = typeof itemsPerPage === \"number\" ? pageIndex * itemsPerPage : 0;\n\n  var paginate = function paginate(pageNumber) {\n    return setPageIndex(pageNumber - 1);\n  };\n\n  (0, _react.useEffect)(function () {\n    if (typeof itemsPerPage === \"number\" && startIndex >= totalItems) {\n      !autoResetPage && Math.floor(totalItems / itemsPerPage) > 0 ? // go to the last available page if the current page is out of bounds\n      setPageIndex(Math.floor(totalItems / itemsPerPage) - 1) : // go to the initial page if autoResetPage is true\n      setPageIndex(0);\n    }\n  }, [pageIndex, startIndex, setPageIndex, totalItems, itemsPerPage, autoResetPage]);\n  var pageData = (0, _react.useMemo)(function () {\n    return typeof itemsPerPage === \"number\" ? data === null || data === void 0 ? void 0 : data.slice(startIndex, startIndex + itemsPerPage) : data;\n  }, [startIndex, data, itemsPerPage]);\n  return {\n    pageData: pageData,\n    currentPage: pageIndex + 1,\n    paginate: paginate,\n    itemsPerPage: itemsPerPage,\n    totalItems: totalItems\n  };\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","usePagination","_react","require","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_arr","_n","_d","_s","_e","next","done","push","err","isArray","data","options","_data$length","defaultOptions","initialPage","autoResetPage","_Object$assign","assign","itemsPerPage","totalItems","initialPageIndex","_useState","useState","_useState2","pageIndex","setPageIndex","startIndex","paginate","pageNumber","useEffect","Math","floor","pageData","useMemo","currentPage"],"sources":["/Users/antondemin/ReactProjects/Canonical_test/canonical_test/node_modules/@canonical/react-components/dist/hooks/usePagination.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.usePagination = usePagination;\n\nvar _react = require(\"react\");\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n/**\n * A hook that handles pagination.\n * @param data - The data array to paginate.\n * @param {Object} options\n * @param {number} [options.itemsPerPage] - Number of items per page. Returns all items if no value has been provided.\n * @param {number} [options.initialPage=1] - Initial page number. Defaults to 1.\n * @param {boolean} [options.autoResetPage=false] - Whether to reset the page number to 1 when the data changes.\n */\nfunction usePagination(data, options) {\n  var _data$length;\n\n  var defaultOptions = {\n    initialPage: 1,\n    autoResetPage: false\n  };\n\n  var _Object$assign = Object.assign(defaultOptions, options),\n      itemsPerPage = _Object$assign.itemsPerPage,\n      initialPage = _Object$assign.initialPage,\n      autoResetPage = _Object$assign.autoResetPage;\n\n  var totalItems = (_data$length = data === null || data === void 0 ? void 0 : data.length) !== null && _data$length !== void 0 ? _data$length : 0;\n  var initialPageIndex = initialPage > 0 ? initialPage - 1 : 0;\n\n  var _useState = (0, _react.useState)(initialPageIndex),\n      _useState2 = _slicedToArray(_useState, 2),\n      pageIndex = _useState2[0],\n      setPageIndex = _useState2[1];\n\n  var startIndex = typeof itemsPerPage === \"number\" ? pageIndex * itemsPerPage : 0;\n\n  var paginate = function paginate(pageNumber) {\n    return setPageIndex(pageNumber - 1);\n  };\n\n  (0, _react.useEffect)(function () {\n    if (typeof itemsPerPage === \"number\" && startIndex >= totalItems) {\n      !autoResetPage && Math.floor(totalItems / itemsPerPage) > 0 ? // go to the last available page if the current page is out of bounds\n      setPageIndex(Math.floor(totalItems / itemsPerPage) - 1) : // go to the initial page if autoResetPage is true\n      setPageIndex(0);\n    }\n  }, [pageIndex, startIndex, setPageIndex, totalItems, itemsPerPage, autoResetPage]);\n  var pageData = (0, _react.useMemo)(function () {\n    return typeof itemsPerPage === \"number\" ? data === null || data === void 0 ? void 0 : data.slice(startIndex, startIndex + itemsPerPage) : data;\n  }, [startIndex, data, itemsPerPage]);\n  return {\n    pageData: pageData,\n    currentPage: pageIndex + 1,\n    paginate: paginate,\n    itemsPerPage: itemsPerPage,\n    totalItems: totalItems\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}