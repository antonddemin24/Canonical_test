{"ast":null,"code":"const getResource = async () => {\n  const res = await fetch('https://people.canonical.com/~anthonydillon/wp-json/wp/v2/posts.json');\n  const data = await res.json();\n  return data;\n};\n\nexport const allCards = async () => {\n  const result = await getResource();\n  let cards = [];\n\n  for (const item in result) {\n    const card = result[item];\n    cards.push({\n      title: card['title']['rendered'],\n      author: card['_embedded']['author'][0]['name'],\n      type: card['_embedded']['wp:term'][0][0]['name'],\n      category: card['_embedded']['wp:term'][3][0]['name'],\n      day: +card['_end_day'],\n      month: +card['_end_month'],\n      year: +card['_end_year']\n    });\n  }\n\n  console.log(cards);\n  return result;\n};\nexport default class cardService {\n  constructor() {\n    this.getResource = async () => {\n      const res = await fetch('https://people.canonical.com/~anthonydillon/wp-json/wp/v2/posts.json');\n\n      if (!res.ok) {\n        throw new Error(`Could not fetch url` + `, received ${res.status}`);\n      }\n\n      return await res.json();\n    };\n\n    this.getAllCards = async () => {\n      const res = await this.getResource();\n      console.log(res.map); //return res.map(this._transformCharacter);\n    };\n\n    this.isSet = data => {\n      return data ? data : 'no information';\n    };\n\n    this._extractId = item => {\n      const idRegExp = /\\/([0-9]*)$/;\n      return item.url.match(idRegExp)[1];\n    };\n\n    this._transformCharacter = res => {\n      const cards = Object.entries(res);\n      return {//title : this.isSet(card['title'][0][0]),\n      };\n    };\n  }\n\n}","map":{"version":3,"names":["getResource","res","fetch","data","json","allCards","result","cards","item","card","push","title","author","type","category","day","month","year","console","log","cardService","ok","Error","status","getAllCards","map","isSet","_extractId","idRegExp","url","match","_transformCharacter","Object","entries"],"sources":["/Users/antondemin/ReactProjects/Canonical_test/canonical_test/src/services/cardService.tsx"],"sourcesContent":["interface Card {\n    title : string;\n    author : string;\n    type : string;\n    category : string;\n    day : number;\n    month : number;\n    year : number;\n}\n\nconst getResource =async () => {\n    const res = await fetch('https://people.canonical.com/~anthonydillon/wp-json/wp/v2/posts.json');\n    const  data  = await res.json();\n    return data;\n}\n\nexport const allCards = async(): Promise<Array<Card> | string> => {\n    const result = await getResource();\n    let cards : Card[] = [];\n    for (const item in result) {\n        const card = result[item]\n        cards.push({\n            title: card['title']['rendered'], \n            author: card['_embedded']['author'][0]['name'],\n            type: card['_embedded']['wp:term'][0][0]['name'],\n            category: card['_embedded']['wp:term'][3][0]['name'],\n            day: +card['_end_day'],\n            month: +card['_end_month'],\n            year: +card['_end_year']\n        });\n    }\n    console.log(cards);\n    return result;\n}\n\nexport default class cardService{\n    \n\n\n\n    getResource = async () => {\n        const res = await fetch('https://people.canonical.com/~anthonydillon/wp-json/wp/v2/posts.json');\n\n        if (!res.ok) {\n            throw new Error(`Could not fetch url` + `, received ${res.status}`);\n        }\n        return await res.json();\n    }\n\n    getAllCards = async () => {\n        const res = await this.getResource();\n        console.log(res.map)\n        //return res.map(this._transformCharacter);\n    }\n\n    isSet = (data: any) =>{\n        return (data) ? data : 'no information';\n    }\n\n    _extractId = (item: any) => {\n        const idRegExp = /\\/([0-9]*)$/;\n        return item.url.match(idRegExp)[1];\n    }\n\n    _transformCharacter = (res: string) => {\n        const cards = Object.entries(res);\n\n        return {\n            //title : this.isSet(card['title'][0][0]),\n            \n            \n        };\n    }\n}"],"mappings":"AAUA,MAAMA,WAAW,GAAE,YAAY;EAC3B,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,sEAAD,CAAvB;EACA,MAAOC,IAAI,GAAI,MAAMF,GAAG,CAACG,IAAJ,EAArB;EACA,OAAOD,IAAP;AACH,CAJD;;AAMA,OAAO,MAAME,QAAQ,GAAG,YAA0C;EAC9D,MAAMC,MAAM,GAAG,MAAMN,WAAW,EAAhC;EACA,IAAIO,KAAc,GAAG,EAArB;;EACA,KAAK,MAAMC,IAAX,IAAmBF,MAAnB,EAA2B;IACvB,MAAMG,IAAI,GAAGH,MAAM,CAACE,IAAD,CAAnB;IACAD,KAAK,CAACG,IAAN,CAAW;MACPC,KAAK,EAAEF,IAAI,CAAC,OAAD,CAAJ,CAAc,UAAd,CADA;MAEPG,MAAM,EAAEH,IAAI,CAAC,WAAD,CAAJ,CAAkB,QAAlB,EAA4B,CAA5B,EAA+B,MAA/B,CAFD;MAGPI,IAAI,EAAEJ,IAAI,CAAC,WAAD,CAAJ,CAAkB,SAAlB,EAA6B,CAA7B,EAAgC,CAAhC,EAAmC,MAAnC,CAHC;MAIPK,QAAQ,EAAEL,IAAI,CAAC,WAAD,CAAJ,CAAkB,SAAlB,EAA6B,CAA7B,EAAgC,CAAhC,EAAmC,MAAnC,CAJH;MAKPM,GAAG,EAAE,CAACN,IAAI,CAAC,UAAD,CALH;MAMPO,KAAK,EAAE,CAACP,IAAI,CAAC,YAAD,CANL;MAOPQ,IAAI,EAAE,CAACR,IAAI,CAAC,WAAD;IAPJ,CAAX;EASH;;EACDS,OAAO,CAACC,GAAR,CAAYZ,KAAZ;EACA,OAAOD,MAAP;AACH,CAjBM;AAmBP,eAAe,MAAMc,WAAN,CAAiB;EAAA;IAAA,KAK5BpB,WAL4B,GAKd,YAAY;MACtB,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,sEAAD,CAAvB;;MAEA,IAAI,CAACD,GAAG,CAACoB,EAAT,EAAa;QACT,MAAM,IAAIC,KAAJ,CAAW,qBAAD,GAAyB,cAAarB,GAAG,CAACsB,MAAO,EAA3D,CAAN;MACH;;MACD,OAAO,MAAMtB,GAAG,CAACG,IAAJ,EAAb;IACH,CAZ2B;;IAAA,KAc5BoB,WAd4B,GAcd,YAAY;MACtB,MAAMvB,GAAG,GAAG,MAAM,KAAKD,WAAL,EAAlB;MACAkB,OAAO,CAACC,GAAR,CAAYlB,GAAG,CAACwB,GAAhB,EAFsB,CAGtB;IACH,CAlB2B;;IAAA,KAoB5BC,KApB4B,GAoBnBvB,IAAD,IAAc;MAClB,OAAQA,IAAD,GAASA,IAAT,GAAgB,gBAAvB;IACH,CAtB2B;;IAAA,KAwB5BwB,UAxB4B,GAwBdnB,IAAD,IAAe;MACxB,MAAMoB,QAAQ,GAAG,aAAjB;MACA,OAAOpB,IAAI,CAACqB,GAAL,CAASC,KAAT,CAAeF,QAAf,EAAyB,CAAzB,CAAP;IACH,CA3B2B;;IAAA,KA6B5BG,mBA7B4B,GA6BL9B,GAAD,IAAiB;MACnC,MAAMM,KAAK,GAAGyB,MAAM,CAACC,OAAP,CAAehC,GAAf,CAAd;MAEA,OAAO,CACH;MADG,CAAP;IAKH,CArC2B;EAAA;;AAAA"},"metadata":{},"sourceType":"module"}