{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useWindowFitment = void 0;\n\nvar _react = require(\"react\");\n\nvar _useListener = require(\"./useListener\");\n/**\n * A hook to determine if an element fits on the window.\n * @param targetNode The element to try and fit on the window.\n * @param referenceNode The element to use to position the target.\n * @param callback The function to call when updating fitment info.\n * @param spacer An additional space to leave between the target and reference.\n * @param shouldCheck Whether the fitment info should be being checked.\n * @param fromMouse Whether the target should be being positioned in relation\n *                  to the mouse. In this case refernceNode will be used to\n *                  listen for mouseover events.\n */\n\n\nvar useWindowFitment = function useWindowFitment(targetNode, referenceNode, callback) {\n  var spacer = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var shouldCheck = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var fromMouse = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n  var htmlRef = (0, _react.useRef)(document.querySelector(\"html\"));\n  var update = (0, _react.useCallback)(function (evt) {\n    var referenceCoordinates;\n\n    if (fromMouse) {\n      if (evt) {\n        referenceCoordinates = {\n          // The mouse is a single point so use 0 for the height and width.\n          height: 0,\n          left: evt.x || 0,\n          top: evt.y || 0,\n          width: 0\n        };\n      }\n    } else if (referenceNode) {\n      referenceCoordinates = referenceNode.getBoundingClientRect();\n    }\n\n    if (shouldCheck && targetNode && referenceCoordinates) {\n      var _targetNode$getBoundi = targetNode.getBoundingClientRect(),\n          targetHeight = _targetNode$getBoundi.height,\n          targetWidth = _targetNode$getBoundi.width;\n\n      var _referenceCoordinates = referenceCoordinates,\n          referenceHeight = _referenceCoordinates.height,\n          referenceLeft = _referenceCoordinates.left,\n          referenceTop = _referenceCoordinates.top,\n          referenceWidth = _referenceCoordinates.width;\n      var referenceBottom = referenceTop + referenceHeight;\n      var referenceRight = referenceLeft + referenceWidth;\n      var referenceCenterX = referenceLeft + referenceWidth / 2;\n      var referenceCenterY = referenceTop + referenceHeight / 2;\n      var windowLeft = htmlRef.current.scrollLeft;\n      var windowRight = window.innerWidth - htmlRef.current.scrollLeft;\n      var windowTop = 0;\n      var windowBottom = window.innerHeight;\n      var heightIncludingSpace = targetHeight + spacer;\n      var widthIncludingSpace = targetWidth + spacer;\n      var widthFromCenter = targetWidth / 2;\n      var heightFromCenter = targetHeight / 2;\n      callback({\n        fromTop: {\n          fitsAbove: referenceTop - heightIncludingSpace > windowTop,\n          fitsBelow: referenceTop + heightIncludingSpace < windowBottom\n        },\n        fromBottom: {\n          fitsAbove: referenceBottom - heightIncludingSpace > windowTop,\n          fitsBelow: referenceBottom + heightIncludingSpace < windowBottom\n        },\n        fromLeft: {\n          fitsLeft: referenceLeft - widthIncludingSpace > windowLeft,\n          fitsRight: referenceLeft + widthIncludingSpace < windowRight\n        },\n        fromRight: {\n          fitsLeft: referenceRight - widthIncludingSpace > windowLeft,\n          fitsRight: referenceRight + widthIncludingSpace < windowRight\n        },\n        fromCenter: {\n          fitsLeft: referenceCenterX - widthIncludingSpace > windowLeft,\n          fitsRight: referenceCenterX + widthIncludingSpace < windowRight,\n          fitsAbove: referenceCenterY - heightIncludingSpace > windowTop,\n          fitsBelow: referenceCenterY + heightIncludingSpace < windowBottom,\n          fitsCentered: {\n            fitsLeft: referenceCenterX - widthFromCenter > windowLeft,\n            fitsRight: referenceCenterX + widthFromCenter < windowRight,\n            fitsAbove: referenceCenterY - heightFromCenter > windowTop,\n            fitsBelow: referenceCenterY + heightFromCenter < windowBottom\n          }\n        }\n      });\n    }\n  }, [shouldCheck, targetNode, callback, spacer, fromMouse, referenceNode]);\n  (0, _useListener.useListener)(window, update, \"resize\", true, shouldCheck && !fromMouse);\n  (0, _useListener.useListener)(window, update, \"scroll\", true, shouldCheck && !fromMouse);\n  (0, _useListener.useListener)(referenceNode, update, \"mousemove\", true, fromMouse && shouldCheck);\n  (0, _react.useEffect)(function () {\n    if (!fromMouse) {\n      update();\n    }\n  }, [fromMouse, update]);\n};\n\nexports.useWindowFitment = useWindowFitment;","map":{"version":3,"names":["Object","defineProperty","exports","value","useWindowFitment","_react","require","_useListener","targetNode","referenceNode","callback","spacer","arguments","length","undefined","shouldCheck","fromMouse","htmlRef","useRef","document","querySelector","update","useCallback","evt","referenceCoordinates","height","left","x","top","y","width","getBoundingClientRect","_targetNode$getBoundi","targetHeight","targetWidth","_referenceCoordinates","referenceHeight","referenceLeft","referenceTop","referenceWidth","referenceBottom","referenceRight","referenceCenterX","referenceCenterY","windowLeft","current","scrollLeft","windowRight","window","innerWidth","windowTop","windowBottom","innerHeight","heightIncludingSpace","widthIncludingSpace","widthFromCenter","heightFromCenter","fromTop","fitsAbove","fitsBelow","fromBottom","fromLeft","fitsLeft","fitsRight","fromRight","fromCenter","fitsCentered","useListener","useEffect"],"sources":["/Users/antondemin/ReactProjects/Canonical_test/canonical_test/node_modules/@canonical/react-components/dist/hooks/useWindowFitment.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useWindowFitment = void 0;\n\nvar _react = require(\"react\");\n\nvar _useListener = require(\"./useListener\");\n\n/**\n * A hook to determine if an element fits on the window.\n * @param targetNode The element to try and fit on the window.\n * @param referenceNode The element to use to position the target.\n * @param callback The function to call when updating fitment info.\n * @param spacer An additional space to leave between the target and reference.\n * @param shouldCheck Whether the fitment info should be being checked.\n * @param fromMouse Whether the target should be being positioned in relation\n *                  to the mouse. In this case refernceNode will be used to\n *                  listen for mouseover events.\n */\nvar useWindowFitment = function useWindowFitment(targetNode, referenceNode, callback) {\n  var spacer = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var shouldCheck = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var fromMouse = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n  var htmlRef = (0, _react.useRef)(document.querySelector(\"html\"));\n  var update = (0, _react.useCallback)(function (evt) {\n    var referenceCoordinates;\n\n    if (fromMouse) {\n      if (evt) {\n        referenceCoordinates = {\n          // The mouse is a single point so use 0 for the height and width.\n          height: 0,\n          left: evt.x || 0,\n          top: evt.y || 0,\n          width: 0\n        };\n      }\n    } else if (referenceNode) {\n      referenceCoordinates = referenceNode.getBoundingClientRect();\n    }\n\n    if (shouldCheck && targetNode && referenceCoordinates) {\n      var _targetNode$getBoundi = targetNode.getBoundingClientRect(),\n          targetHeight = _targetNode$getBoundi.height,\n          targetWidth = _targetNode$getBoundi.width;\n\n      var _referenceCoordinates = referenceCoordinates,\n          referenceHeight = _referenceCoordinates.height,\n          referenceLeft = _referenceCoordinates.left,\n          referenceTop = _referenceCoordinates.top,\n          referenceWidth = _referenceCoordinates.width;\n      var referenceBottom = referenceTop + referenceHeight;\n      var referenceRight = referenceLeft + referenceWidth;\n      var referenceCenterX = referenceLeft + referenceWidth / 2;\n      var referenceCenterY = referenceTop + referenceHeight / 2;\n      var windowLeft = htmlRef.current.scrollLeft;\n      var windowRight = window.innerWidth - htmlRef.current.scrollLeft;\n      var windowTop = 0;\n      var windowBottom = window.innerHeight;\n      var heightIncludingSpace = targetHeight + spacer;\n      var widthIncludingSpace = targetWidth + spacer;\n      var widthFromCenter = targetWidth / 2;\n      var heightFromCenter = targetHeight / 2;\n      callback({\n        fromTop: {\n          fitsAbove: referenceTop - heightIncludingSpace > windowTop,\n          fitsBelow: referenceTop + heightIncludingSpace < windowBottom\n        },\n        fromBottom: {\n          fitsAbove: referenceBottom - heightIncludingSpace > windowTop,\n          fitsBelow: referenceBottom + heightIncludingSpace < windowBottom\n        },\n        fromLeft: {\n          fitsLeft: referenceLeft - widthIncludingSpace > windowLeft,\n          fitsRight: referenceLeft + widthIncludingSpace < windowRight\n        },\n        fromRight: {\n          fitsLeft: referenceRight - widthIncludingSpace > windowLeft,\n          fitsRight: referenceRight + widthIncludingSpace < windowRight\n        },\n        fromCenter: {\n          fitsLeft: referenceCenterX - widthIncludingSpace > windowLeft,\n          fitsRight: referenceCenterX + widthIncludingSpace < windowRight,\n          fitsAbove: referenceCenterY - heightIncludingSpace > windowTop,\n          fitsBelow: referenceCenterY + heightIncludingSpace < windowBottom,\n          fitsCentered: {\n            fitsLeft: referenceCenterX - widthFromCenter > windowLeft,\n            fitsRight: referenceCenterX + widthFromCenter < windowRight,\n            fitsAbove: referenceCenterY - heightFromCenter > windowTop,\n            fitsBelow: referenceCenterY + heightFromCenter < windowBottom\n          }\n        }\n      });\n    }\n  }, [shouldCheck, targetNode, callback, spacer, fromMouse, referenceNode]);\n  (0, _useListener.useListener)(window, update, \"resize\", true, shouldCheck && !fromMouse);\n  (0, _useListener.useListener)(window, update, \"scroll\", true, shouldCheck && !fromMouse);\n  (0, _useListener.useListener)(referenceNode, update, \"mousemove\", true, fromMouse && shouldCheck);\n  (0, _react.useEffect)(function () {\n    if (!fromMouse) {\n      update();\n    }\n  }, [fromMouse, update]);\n};\n\nexports.useWindowFitment = useWindowFitment;"],"mappings":"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"},"metadata":{},"sourceType":"script"}