{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Modal = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _useId = require(\"../../hooks/useId\");\n\nvar _excluded = [\"buttonRow\", \"children\", \"className\", \"close\", \"title\"];\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar Modal = function Modal(_ref) {\n  var buttonRow = _ref.buttonRow,\n      children = _ref.children,\n      className = _ref.className,\n      close = _ref.close,\n      title = _ref.title,\n      wrapperProps = _objectWithoutProperties(_ref, _excluded); // list of focusable selectors is based on this Stack Overflow answer:\n  // https://stackoverflow.com/a/30753870/3732840\n\n\n  var focusableElementSelectors = 'a[href]:not([tabindex=\"-1\"]), button:not([disabled]), textarea:not([disabled]):not([tabindex=\"-1\"]), input:not([disabled]):not([tabindex=\"-1\"]), select:not([disabled]):not([tabindex=\"-1\"]), area[href]:not([tabindex=\"-1\"]), iframe:not([tabindex=\"-1\"]), [tabindex]:not([tabindex=\"-1\"]), [contentEditable=true]:not([tabindex=\"-1\"])';\n  var descriptionId = (0, _useId.useId)();\n  var titleId = (0, _useId.useId)();\n  var shouldClose = (0, _react.useRef)(false);\n  var modalRef = (0, _react.useRef)(null);\n  var focusableModalElements = (0, _react.useRef)(null);\n\n  var handleTabKey = function handleTabKey(e) {\n    if (focusableModalElements.current.length > 0) {\n      var firstElement = focusableModalElements.current[0];\n      var lastElement = focusableModalElements.current[focusableModalElements.current.length - 1];\n\n      if (!e.shiftKey && document.activeElement === lastElement) {\n        firstElement.focus();\n        e.preventDefault();\n      }\n\n      if (e.shiftKey && document.activeElement === firstElement) {\n        lastElement.focus();\n        return e.preventDefault();\n      }\n    }\n  };\n\n  var keyListenersMap = new Map([[27, close], [9, handleTabKey]]);\n  (0, _react.useEffect)(function () {\n    modalRef.current.focus();\n  }, [modalRef]);\n  (0, _react.useEffect)(function () {\n    var _focusableModalElemen;\n\n    focusableModalElements.current = modalRef.current.querySelectorAll(focusableElementSelectors);\n    (_focusableModalElemen = focusableModalElements.current[0]) === null || _focusableModalElemen === void 0 ? void 0 : _focusableModalElemen.focus();\n  }, []);\n  (0, _react.useEffect)(function () {\n    var keyDown = function keyDown(e) {\n      var listener = keyListenersMap.get(e.keyCode);\n      return listener && listener(e);\n    };\n\n    document.addEventListener(\"keydown\", keyDown);\n    return function () {\n      document.removeEventListener(\"keydown\", keyDown);\n    };\n  });\n\n  var handleContentOnMouseDown = function handleContentOnMouseDown() {\n    shouldClose.current = false;\n  };\n\n  var handleContentOnMouseUp = function handleContentOnMouseUp() {\n    shouldClose.current = false;\n  };\n\n  var handleOverlayOnMouseDown = function handleOverlayOnMouseDown(event) {\n    if (event.target === modalRef.current) {\n      shouldClose.current = true;\n    }\n  };\n\n  var handleOverlayOnClick = function handleOverlayOnClick() {\n    if (shouldClose.current) {\n      close();\n    }\n  };\n\n  return /*#__PURE__*/_react.default.createElement(\"div\", _extends({\n    className: (0, _classnames.default)(\"p-modal\", className),\n    onClick: handleOverlayOnClick,\n    onMouseDown: handleOverlayOnMouseDown\n  }, wrapperProps, {\n    ref: modalRef\n  }), /*#__PURE__*/_react.default.createElement(\"section\", {\n    className: \"p-modal__dialog\",\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    \"aria-labelledby\": titleId,\n    \"aria-describedby\": descriptionId,\n    onMouseDown: handleContentOnMouseDown,\n    onMouseUp: handleContentOnMouseUp\n  }, !!title && /*#__PURE__*/_react.default.createElement(\"header\", {\n    className: \"p-modal__header\"\n  }, /*#__PURE__*/_react.default.createElement(\"h2\", {\n    className: \"p-modal__title\",\n    id: titleId\n  }, title), !!close && /*#__PURE__*/_react.default.createElement(\"button\", {\n    className: \"p-modal__close\",\n    \"aria-label\": \"Close active modal\",\n    onClick: close\n  }, \"Close\")), /*#__PURE__*/_react.default.createElement(\"div\", {\n    id: descriptionId\n  }, children), !!buttonRow && /*#__PURE__*/_react.default.createElement(\"footer\", {\n    className: \"p-modal__footer\"\n  }, buttonRow)));\n};\n\nexports.Modal = Modal;\nvar _default = Modal;\nexports.default = _default;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","default","Modal","_classnames","_interopRequireDefault","require","_react","_interopRequireWildcard","_useId","_excluded","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","_ref","buttonRow","children","className","close","title","wrapperProps","focusableElementSelectors","descriptionId","useId","titleId","shouldClose","useRef","modalRef","focusableModalElements","handleTabKey","e","current","firstElement","lastElement","shiftKey","document","activeElement","focus","preventDefault","keyListenersMap","Map","useEffect","_focusableModalElemen","querySelectorAll","keyDown","listener","keyCode","addEventListener","removeEventListener","handleContentOnMouseDown","handleContentOnMouseUp","handleOverlayOnMouseDown","event","handleOverlayOnClick","createElement","onClick","onMouseDown","ref","role","onMouseUp","id","_default"],"sources":["/Users/antondemin/ReactProjects/Canonical_test/canonical_test/node_modules/@canonical/react-components/dist/components/Modal/Modal.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Modal = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _useId = require(\"../../hooks/useId\");\n\nvar _excluded = [\"buttonRow\", \"children\", \"className\", \"close\", \"title\"];\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar Modal = function Modal(_ref) {\n  var buttonRow = _ref.buttonRow,\n      children = _ref.children,\n      className = _ref.className,\n      close = _ref.close,\n      title = _ref.title,\n      wrapperProps = _objectWithoutProperties(_ref, _excluded);\n\n  // list of focusable selectors is based on this Stack Overflow answer:\n  // https://stackoverflow.com/a/30753870/3732840\n  var focusableElementSelectors = 'a[href]:not([tabindex=\"-1\"]), button:not([disabled]), textarea:not([disabled]):not([tabindex=\"-1\"]), input:not([disabled]):not([tabindex=\"-1\"]), select:not([disabled]):not([tabindex=\"-1\"]), area[href]:not([tabindex=\"-1\"]), iframe:not([tabindex=\"-1\"]), [tabindex]:not([tabindex=\"-1\"]), [contentEditable=true]:not([tabindex=\"-1\"])';\n  var descriptionId = (0, _useId.useId)();\n  var titleId = (0, _useId.useId)();\n  var shouldClose = (0, _react.useRef)(false);\n  var modalRef = (0, _react.useRef)(null);\n  var focusableModalElements = (0, _react.useRef)(null);\n\n  var handleTabKey = function handleTabKey(e) {\n    if (focusableModalElements.current.length > 0) {\n      var firstElement = focusableModalElements.current[0];\n      var lastElement = focusableModalElements.current[focusableModalElements.current.length - 1];\n\n      if (!e.shiftKey && document.activeElement === lastElement) {\n        firstElement.focus();\n        e.preventDefault();\n      }\n\n      if (e.shiftKey && document.activeElement === firstElement) {\n        lastElement.focus();\n        return e.preventDefault();\n      }\n    }\n  };\n\n  var keyListenersMap = new Map([[27, close], [9, handleTabKey]]);\n  (0, _react.useEffect)(function () {\n    modalRef.current.focus();\n  }, [modalRef]);\n  (0, _react.useEffect)(function () {\n    var _focusableModalElemen;\n\n    focusableModalElements.current = modalRef.current.querySelectorAll(focusableElementSelectors);\n    (_focusableModalElemen = focusableModalElements.current[0]) === null || _focusableModalElemen === void 0 ? void 0 : _focusableModalElemen.focus();\n  }, []);\n  (0, _react.useEffect)(function () {\n    var keyDown = function keyDown(e) {\n      var listener = keyListenersMap.get(e.keyCode);\n      return listener && listener(e);\n    };\n\n    document.addEventListener(\"keydown\", keyDown);\n    return function () {\n      document.removeEventListener(\"keydown\", keyDown);\n    };\n  });\n\n  var handleContentOnMouseDown = function handleContentOnMouseDown() {\n    shouldClose.current = false;\n  };\n\n  var handleContentOnMouseUp = function handleContentOnMouseUp() {\n    shouldClose.current = false;\n  };\n\n  var handleOverlayOnMouseDown = function handleOverlayOnMouseDown(event) {\n    if (event.target === modalRef.current) {\n      shouldClose.current = true;\n    }\n  };\n\n  var handleOverlayOnClick = function handleOverlayOnClick() {\n    if (shouldClose.current) {\n      close();\n    }\n  };\n\n  return /*#__PURE__*/_react.default.createElement(\"div\", _extends({\n    className: (0, _classnames.default)(\"p-modal\", className),\n    onClick: handleOverlayOnClick,\n    onMouseDown: handleOverlayOnMouseDown\n  }, wrapperProps, {\n    ref: modalRef\n  }), /*#__PURE__*/_react.default.createElement(\"section\", {\n    className: \"p-modal__dialog\",\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    \"aria-labelledby\": titleId,\n    \"aria-describedby\": descriptionId,\n    onMouseDown: handleContentOnMouseDown,\n    onMouseUp: handleContentOnMouseUp\n  }, !!title && /*#__PURE__*/_react.default.createElement(\"header\", {\n    className: \"p-modal__header\"\n  }, /*#__PURE__*/_react.default.createElement(\"h2\", {\n    className: \"p-modal__title\",\n    id: titleId\n  }, title), !!close && /*#__PURE__*/_react.default.createElement(\"button\", {\n    className: \"p-modal__close\",\n    \"aria-label\": \"Close active modal\",\n    onClick: close\n  }, \"Close\")), /*#__PURE__*/_react.default.createElement(\"div\", {\n    id: descriptionId\n  }, children), !!buttonRow && /*#__PURE__*/_react.default.createElement(\"footer\", {\n    className: \"p-modal__footer\"\n  }, buttonRow)));\n};\n\nexports.Modal = Modal;\nvar _default = Modal;\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}